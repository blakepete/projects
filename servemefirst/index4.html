<!DOCTYPE html>
<html>
<title>ServeMeFirst Alpha 2.0.0</title>
<head>
<!Blake Peterson 2018
blake.r.peterson@gmail.com>
</head>
<body>

<table id = "dispHed">
    <tbody>
    <tr>
    <td id = "dispTblKey">Table:</td>
    <td id = "dispTblOut">XXX</td>
    <td id = "dispTmeKey">Time:</td>
    <td id = "dispTmeOut">XXX</td>
    </tr>
    <tr>
    <td id = "dispGstKey">Guests:</td>
    <td id = "dispGstOut">XXX</td>
    <td id = "dispBilKey">Bill:</td>
    <td id = "dispBilOut">XXX</td>
    </tr>
    </tbody>
</table>
<table id = "dispBod">
    <tbody>
    <tr>
    <td id = "dispNaHed">---</td>
    <td id = "dispG0Hed">Guest 0</td> <!--need loop to print these-->
    <td id = "dispG1Hed">Guest 1</td>
    </tr>
    <tr>
    <td id = "dispIdGrt">Greet</td>
    <td id = "dispG0Grt">g0.greet.display</td>
    <td id = "dispG1Grt">g1.greet.display</td>
    </tr>
    <tr>
    <td id = "dispIdDrk">Drink</td>
    <td id = "dispG0Drk">g0.drink.display</td>
    <td id = "dispG1Drk">g1.drink.display</td>
    </tr>
    <tr>
    <td id = "dispIdApp">Appetizer</td>
    <td id = "dispG0App">g0.app.display</td>
    <td id = "dispG1App">g1.app.display</td>
    </tr>
    <tr>
    <td id = "dispIdSal">Salad</td>
    <td id = "dispG0Sal">g0.salad.display</td>
    <td id = "dispG1Sal">g1.salad.display</td>
    </tr>
    <tr>
    <td id = "dispIdEnt">Entree</td>
    <td id = "dispG0Ent">g0.entree.display</td>
    <td id = "dispG1Ent">g1.entree.display</td>
    </tr>
    <tr>
    <td id = "dispIdDst">Dessert</td>
    <td id = "dispG0Dst">g0.dessert.display</td>
    <td id = "dispG1Dst">g1.dessert.display</td>
    </tr>
    <tr>
    <td id = "dispIdBil">Bill</td>
    <td id = "dispG0Bil">g0.bill.display</td>
    <td id = "dispG1Bil">g1.bill.display</td>
    </tr>
    <tr>
    <td id = "dispIdRct">Receipt</td>
    <td id = "dispG0Rct">g0.receipt.display</td>
    <td id = "dispG1Rct">g1.receipt.display</td>
    </tr>
    </tbody>
</table>

<!--<p>
    <button id="newTable" type="button" onclick="newTable()">newTable</button>
</p>-->
<div id="buttons">
<p>
    <button id="orderGreet" type="button" onclick="order(0)">orderGreet</button> 
</p>
<p>
    <button id="orderDrink" type="button" onclick="order('drink')">orderDrink</button>
    <button id="makeDrink" type="button" onclick="make('drink')">makeDrink</button>
    <button id="dropDrink" type="button" onclick="drop('drink')">dropDrink</button>
    <button id="busDrink" type="button" onclick="bus('drink')">busDrink</button>
</p>
<p>
    <button id="orderApp" type="button" onclick="order('app')">orderApp</button>
    <button id="sendApp" type="button" onclick="send('app')">sendApp</button>
    <button id="getApp" type="button" onclick="get('app')">getApp</button>
    <button id="dropApp" type="button" onclick="drop('app')">dropApp</button>
    <button id="busApp" type="button" onclick="bus('app')">busApp</button>
</p>
<p>
    <button id="makeSalad" type="button" onclick="make('salad')">makeSalad</button>
    <button id="dropSalad" type="button" onclick="drop('salad')">dropSalad</button>
    <button id="busSalad" type="button" onclick="bus('salad')">busSalad</button>
</p>
<p>
    <button id="orderEntree" type="button" onclick="order('entree')">orderEntree</button>
    <button id="sendEntree" type="button" onclick="send('entree')">sendEntree</button>
    <button id="getEntree" type="button" onclick="get('entree')">getEntree</button>
    <button id="dropEntree" type="button" onclick="drop('entree')">dropEntree</button>
    <button id="busEntree" type="button" onclick="bus('entree')">busEntree</button>
</p>
<p>
    <button id="orderDessert" type="button" onclick="order('dessert')">orderDessert</button>
    <button id="sendDessert" type="button" onclick="send('dessert')">sendDessert</button>
    <button id="getDessert" type="button" onclick="get('dessert')">getDessert</button>
    <button id="dropDessert" type="button" onclick="drop('dessert')">dropDessert</button>
    <button id="busDessert" type="button" onclick="bus('dessert')">busDessert</button>
</p>
<p>
    <button id="makeBill" type="button" onclick="make('bill')">makeBill</button>
    <button id="dropBill" type="button" onclick="drop('bill')">dropBill</button>
    <button id="busBill" type="button" onclick="bus('bill')">busBill</button>
</p>
<p>
    <button id="makeReceipt" type="button" onclick="make('receipt')">makeReceipt</button>
    <button id="dropReceipt" type="button" onclick="drop('receipt')">dropReceipt</button>
    <button id="busReceipt" type="button" onclick="bus('receipt')">busReceipt</button>
</p>
</div>
<p id = "test">test</p>
<p id = "test2">test2</p>
<p id = "test3">test3</p>
<p id = "test4">test4</p>
<p id = "test5">test5</p>
<p id = "test6">test6</p>
<p id = "test7">test7</p>
<p id = "test8">test8</p>
<p id = "test9">test9</p>
<button id="debug" type="button" onclick="debug()">debug</button>
    
<script>
var gTimer = 0;
var gTimerVar = 0;
window.onload = function(){
    gTimer = 0;
    gTimerVar = setInterval(function(){
        gTimer++;
        document.getElementById("test3").innerHTML= gTimer;
        update();
    }, 1000);
    newTable();
};

var t = [
    { //table 0
        timeStart: 0,
        test: 0,
        g: [
            { //guest 0
                happy: 0,
                speed: 0,
                needy: 0,
                debt: 0,
                tipAmt: 0,
                course: {
                    greet: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    drink: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    app: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    salad: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    entree: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    dessert: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    bill: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    receipt: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                }
            },
            { //guest 1
                happy: 0,
                speed: 0,
                needy: 0,
                debt: 0,
                tipAmt: 0,
                course: {
                    greet: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    drink: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    app: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    salad: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    entree: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    dessert: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    bill: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                    receipt: {
                        show: 0,
                        needAct: 0,
                        actDone: 0,
                        orderTaken: 0,
                        dropDue: 0,
                        makeSent: 0,
                        makeDone: 0,
                        makeReady: 0,
                        makeGot: 0,
                        orderDropd: 0,
                        fullness: 0,
                        dirty: 0
                    },
                }
            }
        ]
    },
    { //table 1
    }
];

function update(){
    var tbl = 0;
    document.getElementById("dispTblOut").innerHTML= tbl; //changes when multi table added
    document.getElementById("dispTmeOut").innerHTML= gTimer - t[tbl].timeStart;
    document.getElementById("dispGstOut").innerHTML= t[tbl].g.length;
    document.getElementById("dispBilOut").innerHTML= t[tbl].g[0].debt + t[tbl].g[1].debt;
    //greet show check
    switch(t[0].g[0].course.greet.show){
        case 0:
            document.getElementById("dispG0Grt").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0Grt").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.greet.show){
        case 0:
            document.getElementById("dispG1Grt").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1Grt").style.visibility = "visible";
            break;
    }
    //drink show check
    switch(t[0].g[0].course.drink.show){
        case 0:
            document.getElementById("dispG0Drk").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0Drk").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.drink.show){
        case 0:
            document.getElementById("dispG1Drk").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1Drk").style.visibility = "visible";
            break;
    }
    //app show check
    switch(t[0].g[0].course.app.show){
        case 0:
            document.getElementById("dispG0App").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0App").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.app.show){
        case 0:
            document.getElementById("dispG1App").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1App").style.visibility = "visible";
            break;
    }
    //salad show check
    switch(t[0].g[0].course.salad.show){
        case 0:
            document.getElementById("dispG0Sal").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0Sal").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.salad.show){
        case 0:
            document.getElementById("dispG1Sal").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1Sal").style.visibility = "visible";
            break;
    }
    //entree show check
    switch(t[0].g[0].course.entree.show){
        case 0:
            document.getElementById("dispG0Ent").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0Ent").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.entree.show){
        case 0:
            document.getElementById("dispG1Ent").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1Ent").style.visibility = "visible";
            break;
    }
    //dessert show check
    switch(t[0].g[0].course.dessert.show){
        case 0:
            document.getElementById("dispG0Dst").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0Dst").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.dessert.show){
        case 0:
            document.getElementById("dispG1Dst").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1Dst").style.visibility = "visible";
            break;
    }
    //bill show check
    switch(t[0].g[0].course.bill.show){
        case 0:
            document.getElementById("dispG0Bil").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0Bil").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.bill.show){
        case 0:
            document.getElementById("dispG1Bil").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1Bil").style.visibility = "visible";
            break;
    }
    //receipt show check
    switch(t[0].g[0].course.receipt.show){
        case 0:
            document.getElementById("dispG0Rct").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG0Rct").style.visibility = "visible";
            break;
    }
    switch(t[0].g[1].course.receipt.show){
        case 0:
            document.getElementById("dispG1Rct").style.visibility = "hidden";
            break;
        case 1:
            document.getElementById("dispG1Rct").style.visibility = "visible";
            break;
    }

    //greet taken check
    switch(t[0].g[0].course.greet.orderTaken){
        case 1:
            break;
        case 0:
            document.getElementById("dispG0Grt").innerHTML = "Need " + (t[tbl].g[0].course.greet.needAct - gTimer);
            break;
    }
    switch(t[0].g[1].course.greet.orderTaken){
        case 1:
            break;
        case 0:
            document.getElementById("dispG1Grt").innerHTML = "Need " + (t[tbl].g[1].course.greet.needAct - gTimer);
            break;
    } 
}

function busy(){
    //disable buttons
    var el = document.getElementById('buttons');
    var all = el.getElementsByTagName('button');
    var i;
    for (i = 0; i < all.length; i++) {
        all[i].disabled = true;
    };
}


function debug(){
    document.getElementById("test4").innerHTML= gTimer;
    document.getElementById("test5").innerHTML= t[0].g[1].happy;
    //disable buttons
    busy();
    
    
}

function newTable(){
    var tbl = 0;//player.tableCount++;
    t[tbl].timeStart = gTimer;
    t[tbl].g[0].drink = 0;
    t[tbl].g[1].drink = 0;
    t[tbl].g[0].happy = getRnd(-1, 5);
    t[tbl].g[1].happy = getRnd(-1, 5);
    t[tbl].g[0].speed = getRnd(1, 4);
    t[tbl].g[1].speed = getRnd(1, 4);    
    t[tbl].g[0].needy = getRnd(1, 11);
    t[tbl].g[1].needy = getRnd(1, 11);
    t[tbl].g[0].tipAmt = getRnd(5, 26);
    t[tbl].g[1].tipAmt = getRnd(5, 26);
    t[tbl].g[0].debt = 0;
    t[tbl].g[1].debt = 0;
    t[tbl].g[0].course.greet.show = 1;
    t[tbl].g[1].course.greet.show = 1;
    t[tbl].g[0].course.greet.needAct = t[tbl].timeStart + 60;
    t[tbl].g[1].course.greet.needAct = t[tbl].timeStart + 60;
    
    
}
function order(k){
    var tbl = 0;
    document.getElementById("test").innerHTML= "order";
    document.getElementById("test2").innerHTML= k;
    //switch(k){
    //    case 0:
    //        document.getElementsByTagName("button".disabled) = true;
    //        t[tbl].g[0].course.greet.actDone = (gTimer - t[tbl].timeStart) + 5;
    //        t[0].g[0].course.greet.orderTaken = 1;
    //        t[0].g[1].course.greet.orderTaken = 1;
    //        switch(t[0].g[0].course.greet.){
    //            case 1:
    //                break;

    //callers
        //greet
        //drink
        //app
        //entree
        //dessert
    //tasks
        //set flag orderTaken
        //set flag shown
        //set timer needAct
        //set timer actDone
        //set timer dropDue
    //future
        //cost
}
function make(k){
    document.getElementById("test").innerHTML= "make";
    document.getElementById("test2").innerHTML= k;
    //callers
        //drink
        //salad
        //bill
        //receipt
    //tasks
        //set timer makeDone
        //set flag shown
}
function send(k){
    document.getElementById("test").innerHTML= "send";
    document.getElementById("test2").innerHTML= k;
    //callers
        //app
        //entree
        //dessert
    //tasks
        //set flag makeSent
        //set flag shown
        //set timer makeDone
}
function get(k){
    document.getElementById("test").innerHTML= "get";
    document.getElementById("test2").innerHTML= k;
    //callers
        //app
        //entree
        //dessert
    //tasks
        //set flag makeGot
        //set flag shown
}
function drop(k){
    document.getElementById("test").innerHTML= "drop";
    document.getElementById("test2").innerHTML= k;
    //callers
        //drink
        //app
        //salad
        //entree
        //dessert
        //bill
        //receipt
    //tasks
        //set flag orderDropd
        //set flag shown
        //set timer fullness
    //future
        //set bill dropDue
}
function bus(k){
    document.getElementById("test").innerHTML= "bus";
    document.getElementById("test2").innerHTML= k;
    //callers
        //drink
        //app
        //salad
        //entree
        //dessert
        //bill
        //receipt
    //tasks
        //set flag shown
    //future 
        //set receipt dropDue
        //clear dirty
}
function repeater(k){
    //checks v table time
        //== makeDone then makeReady = 1
}

function getRnd(min, max) {
    //returns int; min (included) and max (excluded)
    return Math.floor(Math.random() * (max - min) ) + min;
}

</script>
</body>
</html>